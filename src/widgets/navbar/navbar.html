<div class="navbar-light">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapse" aria-controls="collapse" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
</div>

<nav class="navbar navbar-expand-md navbar-default" data-bind="with: root()">
    <div class="collapse navbar-collapse" id="collapse">
        <ul class="nav navbar-nav" data-bind="foreach: nodes()">
            <!--ko if: nodes().length > 0 -->
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-toggle="dropdown" data-bind="attr: { href: url }">
                    <span data-bind="text: label"></span>
                    <span class="caret"></span>
                </a>
                <!--ko template: { name: 'navigationItemTemplate', data: $data }-->
                <!--/ko-->
            </li>
            <!--/ko-->
            <!--ko ifnot: nodes().length > 0 -->
            <li class="nav-item" data-bind="css: { active: isActive() }">
                <a class="nav-link" data-bind="text: label, attr: { href: url }"></a>
            </li>
            <!--/ko-->
        </ul>
    </div>
</nav>

<script id="navigationItemTemplate" type="text/html">
    <ul class="dropdown-menu" data-bind="foreach: nodes()">
        <!--ko if: nodes().length > 0 -->
        <li class="dropdown dropdown-submenu">
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" data-bind="attr: { href: url }">
                <span data-bind="text: label"></span>
                <!--<span class="caret"></span>-->
            </a>
            <!--ko template: { name: 'navigationItemTemplate', data: $data }-->
            <!--/ko-->
        </li>
        <!--/ko-->
        <!--ko ifnot: nodes().length > 0 -->
        <li>
            <a class="nav-link" data-bind="text: label, attr: { href: url }"></a>
        </li>
        <!--/ko-->
    </ul>
</script>